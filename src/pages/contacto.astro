---
import MainLayout from '@/layouts/MainLayout.astro'
import { ContactPageSchema } from '@/types/index.types';
import LocationMap from "@/components/contact/LocationMap.astro"
import ContactForm from "@/components/contact/ContactForm.astro"

const url = `${import.meta.env.WP_API_URL_SLUG}contacto`;
const res = await fetch(url);
const json = await res.json();
const data = ContactPageSchema.parse(json[0]);
---

<MainLayout bgImage={data.featured_images.full.url} tagLine={data.acf.subtitle} title={data.title.rendered}>
  <div class="text-xl space-y-3 mt-10 lg:mt-0" set:html={data?.content.rendered}></div>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-5 mt-5">
    <div>
      <ContactForm />
    </div>
    <LocationMap
      location={data.acf.location}
    />

  </div>
</MainLayout>
